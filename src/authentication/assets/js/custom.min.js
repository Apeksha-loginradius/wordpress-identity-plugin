function forgotpass_hook(e){var i={};i.container="forgotpassword-container",i.onSuccess=function(i){1==commonOptions.phoneLogin?1==i.IsPosted&&void 0===i.Data?(ciamfunctions.message("Password has been set successfully.","#forgotpasswordmessage","success"),window.location.href=e):(ciamfunctions.message("OTP has been sent to your Phone No.","#forgotpasswordmessage","success"),jQuery("input").val(""),jQuery("#loginradius-submit-send").val("Send")):(ciamfunctions.message("Password change link sent to your email id","#forgotpasswordmessage","success"),jQuery("input").val(""),jQuery("#loginradius-submit-send").val("Send"),window.location.href=e)},i.onError=function(e){jQuery("input").val(""),jQuery("#loginradius-submit-send").val("Send"),ciamfunctions.message(e[0].Description,"#forgotpasswordmessage","error"),jQuery("#ciam-forgotpassword-emailid").val(""),jQuery("#ciam_loading_gif").hide()},i.verificationUrl=window.location,LRObject.init("forgotPassword",i)}function optionalTwoFA(){var e={};e.container="authentication-container",e.onSuccess=function(e){1==e.IsDeleted?jQuery("#authentication-container").after("<span id='authdiv_success'>Two Factor Authenticaion is disabled</span>"):jQuery("#authentication-container").after("<span id='authdiv_success'>Two Factor Authenticaion is enabled</span>"),setTimeout(function(){location.reload()},2e3)},e.onError=function(e){jQuery("#authentication-container").after("<span id='authdiv_error'>"+e[0].Message+"</span>"),setTimeout(function(){location.reload()},2e3)},LRObject.init("createTwoFactorAuthentication",e)}function updatephoneonprofile(){var e={};e.container="updatephone-container",e.onSuccess=function(e){jQuery("#updatephone-container").after("<span id='authdiv_success'>Phone number updated successfully</span>"),jQuery("#loginradius-submit-update").prop("disabled",!0),setTimeout(function(){location.reload()},800)},e.onError=function(e){jQuery("#updatephone-container").after("<span id='authdiv_error'>"+e[0].Message+"</span>"),jQuery("#loginradius-submit-update").prop("disabled",!0),setTimeout(function(){location.reload()},800)},LRObject.init("updatePhone",e)}function login_hook(e){var i={};i.onSuccess=function(i){1==i.IsPosted?(ciamfunctions.message("Verification Link has been sent","#loginmessage","success"),setTimeout(function(){ciamfunctions.redirect(i.access_token,"token",e)},500)):(sessionStorage.access_token=i.access_token,LRObject.$hooks.register("endProcess",function(e){jQuery("#ciam_loading_gif").show()}),ciamfunctions.redirect(i.access_token,"token",e))},i.onError=function(e){jQuery(window).scrollTop(0),ciamfunctions.message(e[0].Description,"#loginmessage","error")},i.container="login-container",LRObject.init("login",i)}function oneclicksignin(){var e={};e.onSuccess=function(e){e.access_token&&ciamfunctions.redirect(e.access_token,"token","")},e.onError=function(e){ciamfunctions.message(e[0].Description,"#loginmessage","error")},LRObject.init("instantLinkLogin",e)}function registration_hook(e,i,o){var n={};n.onSuccess=function(n){jQuery("input").val(""),jQuery("textarea").val(""),jQuery("select").val(""),jQuery("#loginradius-submit-register").val("Register"),jQuery("#loginradius-submit-verify").val("Verify"),jQuery("#loginradius-button-resendotp").val("Resend OTP"),jQuery("#ciam_loading_gif").hide(),void 0===o||""===o||"email"==o?"optional"===i?ciamfunctions.message("Link has been sent to your email address, it is optional to verify it you can directly get login with your credentials","#registration_message","success"):"disable"===i?ciamfunctions.message("Thanks for getting register","#registration_message","success"):"required"===i&&ciamfunctions.message("Verification Link has been sent to your email address","#registration_message","success"):"phone"===o&&ciamfunctions.message("Register Successfully.Use Phone Number to login","#registration_message","success"),jQuery(window).scrollTop(0),setTimeout(function(){window.location.href=e},2e3)},n.onError=function(e){jQuery("input").val(""),jQuery("textarea").val(""),jQuery("select").val(""),jQuery("#loginradius-submit-register").val("Register"),jQuery("#loginradius-submit-verify").val("Verify"),jQuery("#loginradius-button-resendotp").val("Resend OTP"),jQuery(window).scrollTop(0),console.log("errors[0].Description : "+e[0].Description),ciamfunctions.message(e[0].Description,"#registration_message","error"),jQuery("#ciam_loading_gif").hide()},n.container="registration-container",LRObject.init("registration",n)}function emailverification(e){var i={};i.onSuccess=function(i){i.access_token?ciamfunctions.redirect(i.access_token,"token",e):(jQuery("#ciam_loading_gif").hide(),ciamfunctions.message("Your Email has been verified","#loginmessage","success"),setTimeout(function(){window.location.href=e},3e3))},i.onError=function(i){ciamfunctions.message(i[0].Description,"#loginmessage","error"),jQuery("#ciam_loading_gif").hide(),setTimeout(function(){window.location.href=e},3e3)},LRObject.init("verifyEmail",i)}function social(e){var i={};i.templateName="loginradiuscustom_tmpl",LRObject.customInterface(".interfacecontainerdiv",i);var o={};o.onSuccess=function(i){1==i.IsPosted&&ciamfunctions.message("Please verify you email","#loginmessage","success"),ciamfunctions.redirect(i.access_token,"token",e)},o.onError=function(e){ciamfunctions.message(e[0].Description,"#loginmessage","error")},o.container="sociallogin-container",LRObject.init("socialLogin",o)}function changepasswordform(){var e={};e.container="changepassword-container",e.onSuccess=function(e){jQuery(".popup-txt").after('<span id="password_msg_success">Password updated successfully</span>'),jQuery("#loginradius-submit-submit").attr("disabled","disabled"),setTimeout(function(){location.reload()},5e3)},e.onError=function(e){jQuery(".popup-txt").after('<span id="password_msg_error">'+e[0].Description+"</span>"),jQuery("#loginradius-submit-submit").attr("disabled","disabled"),setTimeout(function(){location.reload()},5e3)},LRObject.init("changePassword",e),jQuery(document).ready(function(){jQuery("#open_password_popup").on("click",function(){jQuery(".popup-outer-password").fadeIn("slow")}),jQuery("#close_password_popup").on("click",function(){jQuery(".popup-outer-password").fadeOut("slow")}),jQuery("#loginradius-submit-send").on("click",function(){jQuery(".popup-outer-password").fadeOut("slow")})})}function generatebackupcodebutton(e){jQuery("#password").after('<tr id="backupcode" class="user-pass1-wrap"><th><span>Generate Backup code</span></th><td><a href="javascript:void(0);" id="backupcode" class="ciam-password-button" onclick="generatebackupcode(\''+e+'\')" >Generate</a>&nbsp;<span class="ciam-tooltip tip-top" data-title="Save these code for future use.These code will help you in login on lost of your mobile device.Every time you refresh the page you will generate the new code so please save change code on page reload for security reasons."><span class="dashicons dashicons-editor-help"></span></span></td></tr><tr id="codelist"></tr>')}function generatebackupcode(e){jQuery("#ciam_loading_gif").show();var i='<td colspan="2"><div style="width:100%;">';LRObject.api.resetBackupCode(e,function(e){jQuery.each(e.BackUpCodes,function(e,o){i+='<div class="backupcode-div"><input class="backupcode-width" id="\''+o+"'\" onClick=\"copyToClipboard('"+o+'\');this.select();" type="text" readonly value="'+o+'" /></div>'}),i+="</div><div><span onclick='copybackupcode()' id='copybackupcode'>Copy</span> <span class='copyMessage'>Copied!</span></div></td>",jQuery("#codelist").html(i),jQuery("#ciam_loading_gif").hide()},function(i){getbackupcode(e)})}function copyToClipboard(e){var i=document.createElement("input");i.style="position: absolute; left: -1000px; top: -1000px",i.value=e,document.body.appendChild(i),i.select(),document.execCommand("copy"),document.body.removeChild(i)}function getbackupcode(e){LRObject.api.getBackupCode(e,function(e){jQuery.each(e.BackUpCodes,function(e,i){})},function(e){})}function accountlinking(){var e={};e.container="interfacecontainerdiv",e.templateName="loginradiuscustom_tmpl_link",e.onSuccess=function(e){ciamfunctions.message("Account linked successfully","#social-msg","success"),setTimeout(function(){location.reload()},1e3)},e.onError=function(e){"The LoginRadius access token has expired, please request a new token from LoginRadius API."===e[0].Description&&ciamfunctions.message("Your LoginRadius access token has expired.Please login again to enjoy account linking functionality.","#social-msg","error"),"This Uid have only traditional unverified account"!==e[0].Description&&"The LoginRadius access token has expired, please request a new token from LoginRadius API."!==e[0].Description&&ciamfunctions.message(e[0].Description,"#social-msg","error")},LRObject.init("linkAccount",e)}function accountunlinking(){var e={};e.onSuccess=function(e){ciamfunctions.message("Account unlinked successfully","#social-msg","success"),setTimeout(function(){location.reload()},1e3)},e.onError=function(e){ciamfunctions.message(e[0].Description,"#social-msg","error")},LRObject.init("unLinkAccount",e)}function changepassword(e){var i={};i.container="resetpassword-container",i.onSuccess=function(i){ciamfunctions.message("Password change successfully.","#resetpassword","success"),jQuery("#ciam_loading_gif").hide(),window.location.href=e},i.onError=function(e){ciamfunctions.message(e[0].Description,"#resetpassword","error"),jQuery("#ciam-resetpassword-password,#ciam-resetpassword-confirmpassword").val(""),jQuery("#ciam_loading_gif").hide()},LRObject.init("resetPassword",i)}function loadingimg(){LRObject.$hooks.register("startProcess",function(e){jQuery("#ciam_loading_gif").show()}),LRObject.$hooks.register("afterFormRender",function(e){"socialRegistration"===e&&(show_birthdate_date_block(),jQuery("#registration-container,#interfacecontainerdiv,#login-container").hide(),jQuery("#ciam_loading_gif").hide()),"twofaotp"!=e&&"otp"!=e&&"loginRequiredFieldsUpdate"!=e&&"showQRcode"!=e||(jQuery("#interfacecontainerdiv").hide(),jQuery("#ciam_loading_gif").hide()),"registration"===e&&show_birthdate_date_block()})}function showAndHideCustomDiv(e){"samepage"===e||"homepage"===e||"dashboard"===e||"prevpage"===e?jQuery("#customRedirectUrlField").hide():jQuery("#customRedirectUrlField").show()}function additionalemailform(e,o,n,a){if(1==n){jQuery("#email").val(e);t='<a id="open" class="open ciam-email-button" href="javascript:void(0);">Add Email</a><div class="popup-outer" style="display:none;"><span id="close"><img src="'+a+'" alt="close" /></span><div class="popup-inner"><span class="popup-txt"><h1><strong>Please Enter Email</strong></h1></span><div id="addemail-container"></div></div></div><div id="remove" style="display:none;"><div class="removeemail-container"></div></div><br />'}else var t='<a class="remove-popup wp_email open ciam-email-button ciam_email_0" href="javascript:void(0);">Remove</a><div class="remove-popup-outer" style="display:none;"><span class="close-removepopup"><img src="'+a+'" alt="close" /></span><div class="remove-popup-inner"><span class="popup-txt"><h1><strong>Are you sure to remove the mail?</strong></h1></span><span id="email_msg"></span><div class="removeemail-container"></div></div></div>&nbsp;&nbsp;<a id="open" class="open ciam-email-button" href="javascript:void(0);">Add</a><div class="popup-outer" style="display:none;"><span id="close"><img src="'+a+'" alt="close" /></span><div class="popup-inner"><span class="popup-txt"><h1><strong>Please Enter Email</strong></h1></span><div id="addemail-container"></div></div></div></div><br />';t+="",i=1,jQuery.each(o,function(o,n){n.Value!==e&&(t+='<div><input type="email" value="'+n.Value+'" readonly="readonly" id="ciam_email_'+i+'" name="ciam_emai" class="ciam-email"><a class="remove-popup wp_email open ciam-email-button ciam_email_'+i+'" href="javascript:void(0);">Remove</a><div class="remove-popup-outer" style="display:none;"><span class="close-removepopup"><img src="'+a+'" alt="close" /></span><div class="remove-popup-inner"><span class="popup-txt"><h1><strong>Are you sure to remove the mail?</strong></h1></span><span id="email_msg"></span><div class="removeemail-container"></div></div></div></div>'),i++}),t+='<div id="ciam-email-msg"></div>',jQuery(".user-email-wrap td").append(t);var s={};s.container="addemail-container",s.onSuccess=function(e){document.cookie="addemail=Please verify your email",location.reload()},s.onError=function(e){ciamfunctions.message(e[0].Description,"#ciam-email-msg","error")},LRObject.init("addEmail",s);var c={};c.container="removeemail-container",c.onSuccess=function(e){document.cookie="addemail=Email has been removed!",location.reload()},c.onError=function(e){ciamfunctions.message(e[0].Description,"#ciam-email-msg","error")},LRObject.util.ready(function(){LRObject.init("removeEmail",c)}),jQuery(".removeemail").each(function(){jQuery(this).click(function(){jQuery("#loginradius-removeemail-emailid").val(jQuery(this).parent("div").children("input").val())})}),jQuery(document).ready(function(){jQuery("#open").on("click",function(){jQuery(".popup-outer").fadeIn("slow")}),jQuery("#close").on("click",function(){jQuery(".popup-outer").fadeOut("slow")}),jQuery(".remove-popup").on("click",function(){jQuery(".remove-popup-outer").fadeIn("slow")}),jQuery(".close-removepopup").on("click",function(){jQuery(".remove-popup-outer").fadeOut("slow")}),jQuery("#loginradius-submit-send").on("click",function(){jQuery(".popup-outer").fadeOut("slow")})}),jQuery(".wp_email").on("click",function(){var e=jQuery(this).attr("class").split(" ")[4];"ciam_email_0"!==e?jQuery("#loginradius-removeemail-emailid").val(jQuery("#"+e).val()):jQuery("#loginradius-removeemail-emailid").val(jQuery("#email").val())})}function copybackupcode(){var e="",i="";jQuery(".backupcode-div").each(function(){e+=jQuery(this).html()+"\n"}),jQuery(e).each(function(){i+=jQuery(this).val()+"\n"});var o=document.createElement("textarea");o.style="position: absolute; left: -1000px; top: -1000px",o.value=i,document.body.appendChild(o),o.select(),document.execCommand("copy"),document.body.removeChild(o),jQuery(".copyMessage").css("color","#008000").show(),setTimeout(removeCodeCss,5e3)}function removeCodeCss(){jQuery(".code-list").find("span").removeAttr("style"),jQuery(".copyMessage").hide()}function show_birthdate_date_block(){var e=(new Date).getFullYear(),i=e-100;jQuery("body").on("focus",".loginradius-birthdate",function(){jQuery(".loginradius-birthdate").datepicker({dateFormat:"mm-dd-yy",maxDate:new Date,minDate:"-100y",changeMonth:!0,changeYear:!0,yearRange:i+":"+e})})}jQuery(document).ready(function(){jQuery("#submit").on("click",function(){if(jQuery("#loginradius-changepassword-newpassword").val()!==jQuery("#loginradius-changepassword-confirmnewpassword").val())return ciamfunctions.message("New Password must match with Confirm Password!","#msg","error"),!1})});var ciamfunctions={message:function(e,i,o){ciamautohidetime>0?"error"==o?jQuery(i).text(e).css("color","#FF0000").show().fadeOut(1e3*ciamautohidetime):jQuery(i).text(e).css("color","#008000").show().fadeOut(1e3*ciamautohidetime):"error"==o?jQuery(i).text(e).css("color","#FF0000").show():jQuery(i).text(e).css("color","#008000").show()},redirect:function(e,i,o){var n=i||"token",a=document.createElement("form");a.action=window.location.href,a.method="POST";var t=document.createElement("input");t.type="hidden",t.value=e,t.name=n,a.appendChild(t),document.body.appendChild(a),a.submit()}};jQuery(document).ready(function(e){function i(i,o){i.is(":checked")?e(o).hide():e(o).show()}showAndHideCustomDiv(jQuery('input:radio[name="ciam_authentication_settings[after_login_redirect]"]:checked').val()),jQuery('input:radio[name="ciam_authentication_settings[after_login_redirect]"]').change(function(){showAndHideCustomDiv(jQuery(this).val())}),e(".ciam-options-tab-btns li").click(function(){var i=e(this).attr("data-tab");e(".ciam-options-tab-btns li").removeClass("ciam-active"),e(".ciam-tab-frame").removeClass("ciam-active"),e(this).addClass("ciam-active"),e("#"+i).addClass("ciam-active")}),e("#ciam-autopage").change(function(){i(e(this),".ciam-custom-page-settings")}),i(e("#ciam-autopage"),".ciam-custom-page-settings")}),jQuery(document).ready(function(){document.cookie="addemail=",jQuery("#captcha").prop("checked")&&jQuery("#showcaptcha").show(),jQuery("#captcha").on("click",function(){!0===jQuery(this).prop("checked")?jQuery("#showcaptcha").show():jQuery("#showcaptcha").hide()}),jQuery('input[name^="ciam_authentication_settings[captcha]"]').each(function(){0==jQuery(this).prop("checked")?jQuery("#showcaptcha").hide():jQuery("#showcaptcha").show()}),jQuery("#captchatype").on("change",function(){""===jQuery(this).val()?jQuery("#recaptchasitekey").hide():jQuery("#recaptchasitekey").show()}),jQuery("#2fa").on("click",function(){!0===jQuery(this).prop("checked")?jQuery("#showauthdiv").show():jQuery("#showauthdiv").hide()}),jQuery("#ciam-oneclicksignin").on("click",function(){!0===jQuery(this).prop("checked")?jQuery("#hideoneclickdiv").show():jQuery("#hideoneclickdiv").hide()}),jQuery('input[name^="ciam_authentication_settings[2fa]"]').each(function(){0==jQuery(this).prop("checked")?jQuery("#showauthdiv").hide():jQuery("#showauthdiv").show()}),1==jQuery("#ciam-oneclicksignin").prop("checked")&&jQuery("#hideoneclickdiv").show(),jQuery('input[name^="ciam_authentication_settings[phonelogin]"]').each(function(){"email"==jQuery('input[name^="ciam_authentication_settings[phonelogin]"]:checked').val()?(jQuery("#emailflowdiv").show(),jQuery("#phonetemplatediv").hide()):"phone"==jQuery('input[name^="ciam_authentication_settings[phonelogin]"]:checked').val()&&(jQuery("#emailflowdiv").hide(),jQuery("#phonetemplatediv").show())}),jQuery('input[name^="ciam_authentication_settings[phonelogin]"]').on("click",function(){"email"==jQuery('input[name^="ciam_authentication_settings[phonelogin]"]:checked').val()?(jQuery("#emailflowdiv").show(),jQuery("#phonetemplatediv").hide()):"phone"==jQuery('input[name^="ciam_authentication_settings[phonelogin]"]:checked').val()&&(jQuery("#emailflowdiv").hide(),jQuery("#phonetemplatediv").show())}),jQuery("#password-setting").on("click",function(){!0===jQuery(this).prop("checked")?jQuery("#password-limit").show():jQuery("#password-limit").hide()}),jQuery("#custom-oneclick-template").prop("checked")&&jQuery("#hideoneclickdiv").show(),jQuery('input[name^="ciam_authentication_settings[authentication_flow_type]"]').each(function(){jQuery(this).prop("checked")&&("required"===jQuery(this).val()?(jQuery("#requireflow").show(),jQuery("#optionalflow").hide(),jQuery("#customemailtemplates").show()):"optional"===jQuery(this).val()?(jQuery("#requireflow").hide(),jQuery("#optionalflow").show(),jQuery("#customemailtemplates").show()):"disable"===jQuery(this).val()&&jQuery("#requireflow,#optionalflow,#customemailtemplates").hide())}),jQuery(".authentication_flow_type").on("click",function(){"required"===jQuery(this).val()?(jQuery("#requireflow").show(),jQuery("#optionalflow").hide(),jQuery("#customemailtemplates").show(),jQuery("#optionalflow").find("input[type=checkbox]:checked").removeAttr("checked")):"optional"===jQuery(this).val()?(jQuery("#requireflow").hide(),jQuery("#customemailtemplates").show(),jQuery("#requireflow").find("input[type=checkbox]:checked").removeAttr("checked"),jQuery("#optionalflow").show()):"disable"===jQuery(this).val()&&(jQuery("#requireflow,#optionalflow, #customemailtemplates").hide(),jQuery("#requireflow").find("input[type=checkbox]:checked").removeAttr("checked"),jQuery("#optionalflow").find("input[type=checkbox]:checked").removeAttr("checked"))})}),jQuery(document).ready(function(){jQuery("#savebtn > #submit").on("click",function(){if(!0===jQuery("#captcha").prop("checked")&&(""===jQuery("#captchatype").val()||""===jQuery("#recaptchasitekey").val()))return jQuery("#captchameassage").text("All Captcha fields are required!").css("color","#FF0000"),!1})});